<!DOCTYPE html>
<html lang="en">

<head>

    <!-- Set the viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Set character encoding -->
    <meta charset="utf-8">
    <!-- Set title -->
    <title>Service Worker Example</title>
    <!-- Add stylesheet -->
    <link href="styles/index.css" rel="stylesheet">

</head>

<body>

    <h1>Service Worker Example</h1>

    <a href="other.html">Other page</a>

    <br>
    <br>

    <a href="below/another.html">Another page</a>

    <div class="img-wrapper"></div>

    <script>
        (function () {
            'use strict';
            // Register the service worker
            if (!('serviceWorker' in navigator)) {
                console.log('Service worker not supported');
                return;
            }

            navigator.serviceWorker.register('service-worker.js')
                .then(function (registration) {
                    console.log('Registered at scope:', registration.scope);
                })
                .catch(function (error) {
                    console.log('Registration failed:', error);
                });

            setTimeout(() => {
                var img = new Image();
                img.src = '/img/dog.jpeg';
                img.width = 100;
                img.height = 100;

                var imgWrapper = document.getElementsByClassName('img-wrapper');
                imgWrapper[0].appendChild(img);
            }, 3000);
        })();
    </script>

</body>

</html>